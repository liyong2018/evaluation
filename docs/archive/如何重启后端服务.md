# 如何重启后端服务

## ✅ 编译已完成

代码已经成功编译！现在需要重启后端服务以使更改生效。

## 📝 重启步骤

### 方法1：使用 IDEA（推荐）

如果您使用 IntelliJ IDEA：

1. 找到 IDEA 窗口底部的"运行"（Run）面板
2. 点击红色的"停止"按钮 ⏹️
3. 等待几秒，确认服务已停止
4. 点击绿色的"运行"按钮 ▶️ 重新启动服务

### 方法2：使用命令行

如果后端是用命令行启动的：

1. **停止后端服务**
   - 在运行后端的命令行窗口中按 `Ctrl + C`
   - 等待服务完全停止

2. **重新启动服务**
   ```bash
   # 如果使用 Spring Boot Maven 插件
   mvn spring-boot:run
   
   # 或者如果使用 jar 包
   java -jar target/disaster-reduction-evaluation-1.0.0.jar
   ```

### 方法3：结束进程（不推荐，但可用）

如果找不到运行的窗口：

```powershell
# 查看Java进程
Get-Process -Name java

# 结束特定的Java进程（替换 <PID> 为实际的进程ID）
Stop-Process -Id <PID> -Force

# 然后重新启动服务
mvn spring-boot:run
```

当前检测到的Java进程：
- PID: 238372 (启动于 10:34:06) - **可能是您的后端服务**
- PID: 104436 (启动于 11:29:48)
- PID: 11312 (启动于 11:29:55)

## ⚠️ 重要提醒

重启后端服务后，请务必：

1. **等待服务完全启动**（通常需要10-30秒）
2. **在浏览器中强制刷新页面**（按 `Ctrl + Shift + R`）
3. **重新执行模型**

## 🔍 验证重启是否成功

重启后，在后端日志中应该看到启动信息，例如：

```
Starting DisasterReductionEvaluationApplication...
...
Tomcat started on port(s): 8080 (http)
Started DisasterReductionEvaluationApplication in X seconds
```

如果看到这些信息，说明重启成功！

## 🧪 测试新功能

重启成功后：

1. 打开浏览器，按 `F12` 打开开发者工具
2. 切换到"控制台"标签页
3. 执行完整模型
4. 查看后端日志，应该看到：
   ```
   INFO - 步骤1 的输出参数: [队伍管理能力计算, ...]
   INFO - 步骤2 的输出参数: [队伍管理能力归一化, ...]
   ...
   INFO - 开始生成 columns 数组（全模型），总列数: 50
   INFO - 完成 columns 数组生成（全模型），共 50 列，其中 48 列包含 stepOrder
   ```

5. 查看前端日志，应该看到：
   ```
   columnsWithStepOrder: 48  ← 这个数字应该大于0！
   检测到列数据中包含stepOrder字段，使用该字段进行分组
   ```

## ❌ 如果还是不行

如果重启后仍然显示 `columnsWithStepOrder: 0`，请：

1. 确认您修改的是正确的文件
2. 检查是否有多个后端服务在运行（关闭所有，只启动一个）
3. 检查网络请求的响应数据（F12 -> Network 标签页 -> 找到 execute-model 请求 -> 查看 Response）
4. 把响应数据发给我分析

---

**现在请重启您的后端服务！** 🚀
